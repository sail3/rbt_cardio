{% extends 'base.html.twig' %}
{% block page_title %}
  <h1>Usuario | listado</h1>
{% endblock %}
{% block body %}

  <!-- <table class="table table-hover table-vcenter"> -->
  <table id="content-table" class="table table-striped table-bordered" cellspacing="0" width="100%">
    <thead>
      <tr>
        <th class="min-tablet">Idusuario</th>
        <th class="min-mobile">Apellido</th>
        <th class="min-desktop">Nombre</th>
        <th class="min-mobile">Email</th>
        <th class="min-desktop">Direccion</th>
        <th class="min-tablet">Dni</th>
        <th class="min-desktop">Fecharegistro</th>
        <th class="min-desktop">Enable</th>
        <th class="min-mobile">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for usuario in usuarios %}
        <tr>
          <td>
            <a href="{{ path('user_show', { 'id': usuario.id }) }}">{{ usuario.id }}</a>
          </td>
          <td>{{ usuario.nombre }}</td>
          <td>{{ usuario.apellido }}</td>
          <td>{{ usuario.email }}</td>
          <td>{{ usuario.direccion }}</td>
          <td>{{ usuario.dni }}</td>
          <td>
            {% if usuario.fechaRegistro %}{{ usuario.fechaRegistro|date('Y-m-d') }}{% endif %}
          </td>
          <td>
            {% if usuario.enable %}Yes{% else %}No{% endif %}
          </td>
          <!-- <td>
                    <ul>
                        <li>
                            <a href="{{ path('user_show', { 'id': usuario.id }) }}">show</a>
                        </li>
                        <li>
                            <a href="{{ path('user_edit', { 'id': usuario.id }) }}">edit</a>
                        </li>
                    </ul>
                </td> -->
          <td>
            <ul>
              <li>
                <a href="{{ path('user_show', { 'id': usuario.id }) }}">
                  <div class="label label-table label-info">Ver Detalles</div>
                </a>
              </li>
              <li>
                <a href="{{ path('user_edit', { 'id': usuario.id }) }}">
                  <div class="label label-table label-warning">Modificar</div>
                </a>
              </li>
            </ul>
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

  <a href="{{ path('user_new') }}">
    <span class="btn btn-success fileinput-button dz-clickable">
      <i class="fa fa-plus"></i>
      <span>Nuevo Usuario</span>
    </span>
  </a>
{% endblock %}

{% block script_region %}
  <script src="{{ asset('plugins/bootstrap-select/bootstrap-select.min.js') }}"></script>
  <script src="{{ asset('plugins/datatables/media/js/jquery.dataTables.js') }}"></script>
  <script src="{{ asset('plugins/datatables/media/js/dataTables.bootstrap.js') }}"></script>
  <script src="{{ asset('plugins/datatables/extensions/Responsive/js/dataTables.responsive.min.js') }}"></script>

  <script type="text/javascript">
    $(document).ready(function() {
      // $('#demo-dt-selection').DataTable();
      var rowSelection = $('#content-table').DataTable({
        "responsive": true,
        "language": {
          "paginate": {
            "previous": '<i class="fa fa-angle-left"></i>',
            "next": '<i class="fa fa-angle-right"></i>'
          }
        }
      });
      $('#content-table').on('click', 'tr', function() {
        if ($(this).hasClass('selected')) {
          $(this).removeClass('selected');
        } else {
          rowSelection.$('tr.selected').removeClass('selected');
          $(this).addClass('selected');
        }
      });
      $('#searchbox').keyup(function() {
        rowSelection.search($(this).val()).draw();
      });
      $('#content-table_filter').hide();
    });
  </script>
{% endblock %}
